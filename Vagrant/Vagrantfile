# Created by Topology-Converter v3.0
#    using topology data from: topology.dot
#    using definition data from: topology.def
#    NOTE: in order to use this Vagrantfile you will need:
#        -Virtualbox installed: https://www.virtualbox.org/wiki/Downloads 
#        -Vagrant(v1.7+) installed: http://www.vagrantup.com/downloads 
#        -Cumulus Plugin for Vagrant installed: $ vagrant plugin install vagrant-cumulus 
#        -the "helper_scripts" directory that comes packaged with topology-converter.py 
Vagrant.configure("2") do |config|
  ##### GLOBAL OPTIONS #####

  config.vm.provider "virtualbox" do |v|
    v.gui=false
  end
  ##### DEFINE VMs #####
  ##### DEFINE VM for mgmt #####
  config.vm.define "mgmt" do |mgmt|
      mgmt.vm.provider "virtualbox" do |v|
        v.name = "mgmt"
        v.memory = 400
      end
      mgmt.vm.hostname = "mgmt"
      mgmt.vm.box = "boxcutter/ubuntu1404"

          # Local_Interface: eth0 Topology_File_Line(31):   "oob":"swp12" -- "mgmt":"eth0"
          mgmt.vm.network "private_network", virtualbox__intnet: 'net31', auto_config: false, :mac => "A00000000001"

      # Disabling the default synced folder
      mgmt.vm.synced_folder ".", "/vagrant", disabled: true

      # SERVERS ONLY: Shorten Boot Process - remove "Wait for Network"
      mgmt.vm.provision :shell , inline: "sudo sed -i 's/sleep [0-9]*/sleep 1/' /etc/init/failsafe.conf"

      # Run Any Extra Config
      mgmt.vm.provision :shell , path: "./helper_scripts/1st_device_config.sh"

      # Apply the interface re-map
      mgmt.vm.provision "file", source: "./helper_scripts/rename_eth_swp", destination: "/home/vagrant/rename_eth_swp"
      mgmt.vm.provision "file", source: "./helper_scripts/autogenerated/mgmt_remap_eth", destination: "/home/vagrant/remap_eth"
      mgmt.vm.provision :shell , inline: "mv /home/vagrant/rename_eth_swp /etc/init.d/rename_eth_swp"
      mgmt.vm.provision :shell , inline: "mv /home/vagrant/remap_eth /etc/default/remap_eth"
      mgmt.vm.provision :shell , inline: "chmod 755 /etc/init.d/rename_eth_swp"
      mgmt.vm.provision :shell , inline: "sudo sed -i '/exit 0/d' /etc/rc.local "
      mgmt.vm.provision :shell , inline: "sudo echo '/etc/init.d/rename_eth_swp verbose' >> /etc/rc.local "
      mgmt.vm.provision :shell , inline: "sudo echo 'exit 0' >> /etc/rc.local "
      mgmt.vm.provision :shell , inline: "/etc/init.d/rename_eth_swp verbose"
      mgmt.vm.provision :shell , inline: "echo -e '\n########## Interface Status ##########' && ip link show"

      mgmt.vm.provider "virtualbox" do |vbox|
        vbox.customize ['modifyvm', :id, '--nicpromisc2', 'allow-vms']
      end
  end

  ##### DEFINE VM for oob #####
  config.vm.define "oob" do |oob|
      oob.vm.provider "virtualbox" do |v|
        v.name = "oob"
        v.memory = 200
      end
      oob.vm.hostname = "oob"
      oob.vm.box = "CumulusCommunity/cumulus-vx"

          # Local_Interface: swp1 Topology_File_Line(20):   "oob":"swp1" -- "spine01":"eth0"
          oob.vm.network "private_network", virtualbox__intnet: 'net20', auto_config: false

          # Local_Interface: swp2 Topology_File_Line(21):   "oob":"swp2" -- "spine02":"eth0"
          oob.vm.network "private_network", virtualbox__intnet: 'net21', auto_config: false

          # Local_Interface: swp3 Topology_File_Line(22):   "oob":"swp3" -- "leaf01":"eth0"
          oob.vm.network "private_network", virtualbox__intnet: 'net22', auto_config: false

          # Local_Interface: swp4 Topology_File_Line(23):   "oob":"swp4" -- "leaf02":"eth0"
          oob.vm.network "private_network", virtualbox__intnet: 'net23', auto_config: false

          # Local_Interface: swp5 Topology_File_Line(24):   "oob":"swp5" -- "leaf03":"eth0"
          oob.vm.network "private_network", virtualbox__intnet: 'net24', auto_config: false

          # Local_Interface: swp6 Topology_File_Line(25):   "oob":"swp6" -- "leaf04":"eth0"
          oob.vm.network "private_network", virtualbox__intnet: 'net25', auto_config: false

          # Local_Interface: swp7 Topology_File_Line(26):   "oob":"swp7" -- "server1":"eth0"
          oob.vm.network "private_network", virtualbox__intnet: 'net26', auto_config: false

          # Local_Interface: swp8 Topology_File_Line(27):   "oob":"swp8" -- "server2":"eth0"
          oob.vm.network "private_network", virtualbox__intnet: 'net27', auto_config: false

          # Local_Interface: swp9 Topology_File_Line(28):   "oob":"swp9" -- "server3":"eth0"
          oob.vm.network "private_network", virtualbox__intnet: 'net28', auto_config: false

          # Local_Interface: swp10 Topology_File_Line(29):   "oob":"swp10" -- "server4":"eth0"
          oob.vm.network "private_network", virtualbox__intnet: 'net29', auto_config: false

          # Local_Interface: swp11 Topology_File_Line(30):   "oob":"swp11" -- "internet":"eth0"
          oob.vm.network "private_network", virtualbox__intnet: 'net30', auto_config: false

          # Local_Interface: swp12 Topology_File_Line(31):   "oob":"swp12" -- "mgmt":"eth0"
          oob.vm.network "private_network", virtualbox__intnet: 'net31', auto_config: false

      # Disabling the default synced folder
      oob.vm.synced_folder ".", "/vagrant", disabled: true

      # Run Any Extra Config
      oob.vm.provision :shell , path: "./helper_scripts/2nd_device_config.sh"

      # Apply the interface re-map
      oob.vm.provision "file", source: "./helper_scripts/rename_eth_swp", destination: "/home/vagrant/rename_eth_swp"
      oob.vm.provision "file", source: "./helper_scripts/autogenerated/oob_remap_eth", destination: "/home/vagrant/remap_eth"
      oob.vm.provision :shell , inline: "mv /home/vagrant/rename_eth_swp /etc/init.d/rename_eth_swp"
      oob.vm.provision :shell , inline: "mv /home/vagrant/remap_eth /etc/default/remap_eth"
      oob.vm.provision :shell , inline: "chmod 755 /etc/init.d/rename_eth_swp"
      oob.vm.provision :shell , inline: "/etc/init.d/rename_eth_swp verbose"
      oob.vm.provision :shell , inline: "echo -e '\n########## Interface Status ##########' && ip link show"

      oob.vm.provider "virtualbox" do |vbox|
        vbox.customize ['modifyvm', :id, '--nicpromisc2', 'allow-vms']
        vbox.customize ['modifyvm', :id, '--nicpromisc3', 'allow-vms']
        vbox.customize ['modifyvm', :id, '--nicpromisc4', 'allow-vms']
        vbox.customize ['modifyvm', :id, '--nicpromisc5', 'allow-vms']
        vbox.customize ['modifyvm', :id, '--nicpromisc6', 'allow-vms']
        vbox.customize ['modifyvm', :id, '--nicpromisc7', 'allow-vms']
        vbox.customize ['modifyvm', :id, '--nicpromisc8', 'allow-vms']
        vbox.customize ['modifyvm', :id, '--nicpromisc9', 'allow-vms']
        vbox.customize ['modifyvm', :id, '--nicpromisc10', 'allow-vms']
        vbox.customize ['modifyvm', :id, '--nicpromisc11', 'allow-vms']
        vbox.customize ['modifyvm', :id, '--nicpromisc12', 'allow-vms']
        vbox.customize ['modifyvm', :id, '--nicpromisc13', 'allow-vms']
      end
  end

  ##### DEFINE VM for server1 #####
  config.vm.define "server1" do |server1|
      server1.vm.provider "virtualbox" do |v|
        v.name = "server1"
        v.memory = 400
      end
      server1.vm.hostname = "server1"
      server1.vm.box = "boxcutter/ubuntu1404"

          # Local_Interface: eth0 Topology_File_Line(26):   "oob":"swp7" -- "server1":"eth0"
          server1.vm.network "private_network", virtualbox__intnet: 'net26', auto_config: false, :mac => "A00000000002"

          # Local_Interface: eth2 Topology_File_Line(16):   "server1":"eth2" -- "leaf01":"swp1"
          server1.vm.network "private_network", virtualbox__intnet: 'net16', auto_config: false

      # Disabling the default synced folder
      server1.vm.synced_folder ".", "/vagrant", disabled: true

      # SERVERS ONLY: Shorten Boot Process - remove "Wait for Network"
      server1.vm.provision :shell , inline: "sudo sed -i 's/sleep [0-9]*/sleep 1/' /etc/init/failsafe.conf"

      # Run Any Extra Config
      server1.vm.provision :shell , path: "./helper_scripts/extra_server_config.sh"

      # Apply the interface re-map
      server1.vm.provision "file", source: "./helper_scripts/rename_eth_swp", destination: "/home/vagrant/rename_eth_swp"
      server1.vm.provision "file", source: "./helper_scripts/autogenerated/server1_remap_eth", destination: "/home/vagrant/remap_eth"
      server1.vm.provision :shell , inline: "mv /home/vagrant/rename_eth_swp /etc/init.d/rename_eth_swp"
      server1.vm.provision :shell , inline: "mv /home/vagrant/remap_eth /etc/default/remap_eth"
      server1.vm.provision :shell , inline: "chmod 755 /etc/init.d/rename_eth_swp"
      server1.vm.provision :shell , inline: "sudo sed -i '/exit 0/d' /etc/rc.local "
      server1.vm.provision :shell , inline: "sudo echo '/etc/init.d/rename_eth_swp verbose' >> /etc/rc.local "
      server1.vm.provision :shell , inline: "sudo echo 'exit 0' >> /etc/rc.local "
      server1.vm.provision :shell , inline: "/etc/init.d/rename_eth_swp verbose"
      server1.vm.provision :shell , inline: "echo -e '\n########## Interface Status ##########' && ip link show"

      server1.vm.provider "virtualbox" do |vbox|
        vbox.customize ['modifyvm', :id, '--nicpromisc2', 'allow-vms']
        vbox.customize ['modifyvm', :id, '--nicpromisc3', 'allow-vms']
      end
  end

  ##### DEFINE VM for server2 #####
  config.vm.define "server2" do |server2|
      server2.vm.provider "virtualbox" do |v|
        v.name = "server2"
        v.memory = 400
      end
      server2.vm.hostname = "server2"
      server2.vm.box = "boxcutter/ubuntu1404"

          # Local_Interface: eth0 Topology_File_Line(27):   "oob":"swp8" -- "server2":"eth0"
          server2.vm.network "private_network", virtualbox__intnet: 'net27', auto_config: false, :mac => "A00000000003"

          # Local_Interface: eth2 Topology_File_Line(17):   "server2":"eth2" -- "leaf02":"swp1"
          server2.vm.network "private_network", virtualbox__intnet: 'net17', auto_config: false

      # Disabling the default synced folder
      server2.vm.synced_folder ".", "/vagrant", disabled: true

      # SERVERS ONLY: Shorten Boot Process - remove "Wait for Network"
      server2.vm.provision :shell , inline: "sudo sed -i 's/sleep [0-9]*/sleep 1/' /etc/init/failsafe.conf"

      # Run Any Extra Config
      server2.vm.provision :shell , path: "./helper_scripts/extra_server_config.sh"

      # Apply the interface re-map
      server2.vm.provision "file", source: "./helper_scripts/rename_eth_swp", destination: "/home/vagrant/rename_eth_swp"
      server2.vm.provision "file", source: "./helper_scripts/autogenerated/server2_remap_eth", destination: "/home/vagrant/remap_eth"
      server2.vm.provision :shell , inline: "mv /home/vagrant/rename_eth_swp /etc/init.d/rename_eth_swp"
      server2.vm.provision :shell , inline: "mv /home/vagrant/remap_eth /etc/default/remap_eth"
      server2.vm.provision :shell , inline: "chmod 755 /etc/init.d/rename_eth_swp"
      server2.vm.provision :shell , inline: "sudo sed -i '/exit 0/d' /etc/rc.local "
      server2.vm.provision :shell , inline: "sudo echo '/etc/init.d/rename_eth_swp verbose' >> /etc/rc.local "
      server2.vm.provision :shell , inline: "sudo echo 'exit 0' >> /etc/rc.local "
      server2.vm.provision :shell , inline: "/etc/init.d/rename_eth_swp verbose"
      server2.vm.provision :shell , inline: "echo -e '\n########## Interface Status ##########' && ip link show"

      server2.vm.provider "virtualbox" do |vbox|
        vbox.customize ['modifyvm', :id, '--nicpromisc2', 'allow-vms']
        vbox.customize ['modifyvm', :id, '--nicpromisc3', 'allow-vms']
      end
  end

  ##### DEFINE VM for server3 #####
  config.vm.define "server3" do |server3|
      server3.vm.provider "virtualbox" do |v|
        v.name = "server3"
        v.memory = 400
      end
      server3.vm.hostname = "server3"
      server3.vm.box = "boxcutter/ubuntu1404"

          # Local_Interface: eth0 Topology_File_Line(28):   "oob":"swp9" -- "server3":"eth0"
          server3.vm.network "private_network", virtualbox__intnet: 'net28', auto_config: false, :mac => "A00000000004"

          # Local_Interface: eth2 Topology_File_Line(18):   "server3":"eth2" -- "leaf03":"swp1"
          server3.vm.network "private_network", virtualbox__intnet: 'net18', auto_config: false

      # Disabling the default synced folder
      server3.vm.synced_folder ".", "/vagrant", disabled: true

      # SERVERS ONLY: Shorten Boot Process - remove "Wait for Network"
      server3.vm.provision :shell , inline: "sudo sed -i 's/sleep [0-9]*/sleep 1/' /etc/init/failsafe.conf"

      # Run Any Extra Config
      server3.vm.provision :shell , path: "./helper_scripts/extra_server_config.sh"

      # Apply the interface re-map
      server3.vm.provision "file", source: "./helper_scripts/rename_eth_swp", destination: "/home/vagrant/rename_eth_swp"
      server3.vm.provision "file", source: "./helper_scripts/autogenerated/server3_remap_eth", destination: "/home/vagrant/remap_eth"
      server3.vm.provision :shell , inline: "mv /home/vagrant/rename_eth_swp /etc/init.d/rename_eth_swp"
      server3.vm.provision :shell , inline: "mv /home/vagrant/remap_eth /etc/default/remap_eth"
      server3.vm.provision :shell , inline: "chmod 755 /etc/init.d/rename_eth_swp"
      server3.vm.provision :shell , inline: "sudo sed -i '/exit 0/d' /etc/rc.local "
      server3.vm.provision :shell , inline: "sudo echo '/etc/init.d/rename_eth_swp verbose' >> /etc/rc.local "
      server3.vm.provision :shell , inline: "sudo echo 'exit 0' >> /etc/rc.local "
      server3.vm.provision :shell , inline: "/etc/init.d/rename_eth_swp verbose"
      server3.vm.provision :shell , inline: "echo -e '\n########## Interface Status ##########' && ip link show"

      server3.vm.provider "virtualbox" do |vbox|
        vbox.customize ['modifyvm', :id, '--nicpromisc2', 'allow-vms']
        vbox.customize ['modifyvm', :id, '--nicpromisc3', 'allow-vms']
      end
  end

  ##### DEFINE VM for server4 #####
  config.vm.define "server4" do |server4|
      server4.vm.provider "virtualbox" do |v|
        v.name = "server4"
        v.memory = 400
      end
      server4.vm.hostname = "server4"
      server4.vm.box = "boxcutter/ubuntu1404"

          # Local_Interface: eth0 Topology_File_Line(29):   "oob":"swp10" -- "server4":"eth0"
          server4.vm.network "private_network", virtualbox__intnet: 'net29', auto_config: false, :mac => "A00000000005"

          # Local_Interface: eth2 Topology_File_Line(19):   "server4":"eth2" -- "leaf04":"swp1"
          server4.vm.network "private_network", virtualbox__intnet: 'net19', auto_config: false

      # Disabling the default synced folder
      server4.vm.synced_folder ".", "/vagrant", disabled: true

      # SERVERS ONLY: Shorten Boot Process - remove "Wait for Network"
      server4.vm.provision :shell , inline: "sudo sed -i 's/sleep [0-9]*/sleep 1/' /etc/init/failsafe.conf"

      # Run Any Extra Config
      server4.vm.provision :shell , path: "./helper_scripts/extra_server_config.sh"

      # Apply the interface re-map
      server4.vm.provision "file", source: "./helper_scripts/rename_eth_swp", destination: "/home/vagrant/rename_eth_swp"
      server4.vm.provision "file", source: "./helper_scripts/autogenerated/server4_remap_eth", destination: "/home/vagrant/remap_eth"
      server4.vm.provision :shell , inline: "mv /home/vagrant/rename_eth_swp /etc/init.d/rename_eth_swp"
      server4.vm.provision :shell , inline: "mv /home/vagrant/remap_eth /etc/default/remap_eth"
      server4.vm.provision :shell , inline: "chmod 755 /etc/init.d/rename_eth_swp"
      server4.vm.provision :shell , inline: "sudo sed -i '/exit 0/d' /etc/rc.local "
      server4.vm.provision :shell , inline: "sudo echo '/etc/init.d/rename_eth_swp verbose' >> /etc/rc.local "
      server4.vm.provision :shell , inline: "sudo echo 'exit 0' >> /etc/rc.local "
      server4.vm.provision :shell , inline: "/etc/init.d/rename_eth_swp verbose"
      server4.vm.provision :shell , inline: "echo -e '\n########## Interface Status ##########' && ip link show"

      server4.vm.provider "virtualbox" do |vbox|
        vbox.customize ['modifyvm', :id, '--nicpromisc2', 'allow-vms']
        vbox.customize ['modifyvm', :id, '--nicpromisc3', 'allow-vms']
      end
  end

  ##### DEFINE VM for internet #####
  config.vm.define "internet" do |internet|
      internet.vm.provider "virtualbox" do |v|
        v.name = "internet"
        v.memory = 200
      end
      internet.vm.hostname = "internet"
      internet.vm.box = "CumulusCommunity/cumulus-vx"

          # Local_Interface: eth0 Topology_File_Line(30):   "oob":"swp11" -- "internet":"eth0"
          internet.vm.network "private_network", virtualbox__intnet: 'net30', auto_config: false, :mac => "A00000000006"

          # Local_Interface: swp1 Topology_File_Line(1):   "internet":"swp1" -- "spine01":"swp30s0"
          internet.vm.network "private_network", virtualbox__intnet: 'net1', auto_config: false

          # Local_Interface: swp2 Topology_File_Line(2):   "internet":"swp2" -- "spine01":"swp31s0"
          internet.vm.network "private_network", virtualbox__intnet: 'net2', auto_config: false

          # Local_Interface: swp3 Topology_File_Line(3):   "internet":"swp3" -- "spine01":"swp31s1"
          internet.vm.network "private_network", virtualbox__intnet: 'net3', auto_config: false

          # Local_Interface: swp4 Topology_File_Line(4):   "internet":"swp4" -- "spine01":"swp32s0"
          internet.vm.network "private_network", virtualbox__intnet: 'net4', auto_config: false

          # Local_Interface: swp5 Topology_File_Line(5):   "internet":"swp5" -- "spine02":"swp32s0"
          internet.vm.network "private_network", virtualbox__intnet: 'net5', auto_config: false

          # Local_Interface: swp6 Topology_File_Line(6):   "internet":"swp6" -- "spine02":"swp31s0"
          internet.vm.network "private_network", virtualbox__intnet: 'net6', auto_config: false

          # Local_Interface: swp7 Topology_File_Line(7):   "internet":"swp7" -- "spine02":"swp31s1"
          internet.vm.network "private_network", virtualbox__intnet: 'net7', auto_config: false

      # Disabling the default synced folder
      internet.vm.synced_folder ".", "/vagrant", disabled: true

      # Run Any Extra Config
      internet.vm.provision :shell , path: "./helper_scripts/extra_switch_config.sh"

      # Apply the interface re-map
      internet.vm.provision "file", source: "./helper_scripts/rename_eth_swp", destination: "/home/vagrant/rename_eth_swp"
      internet.vm.provision "file", source: "./helper_scripts/autogenerated/internet_remap_eth", destination: "/home/vagrant/remap_eth"
      internet.vm.provision :shell , inline: "mv /home/vagrant/rename_eth_swp /etc/init.d/rename_eth_swp"
      internet.vm.provision :shell , inline: "mv /home/vagrant/remap_eth /etc/default/remap_eth"
      internet.vm.provision :shell , inline: "chmod 755 /etc/init.d/rename_eth_swp"
      internet.vm.provision :shell , inline: "/etc/init.d/rename_eth_swp verbose"
      internet.vm.provision :shell , inline: "echo -e '\n########## Interface Status ##########' && ip link show"

      internet.vm.provider "virtualbox" do |vbox|
        vbox.customize ['modifyvm', :id, '--nicpromisc2', 'allow-vms']
        vbox.customize ['modifyvm', :id, '--nicpromisc3', 'allow-vms']
        vbox.customize ['modifyvm', :id, '--nicpromisc4', 'allow-vms']
        vbox.customize ['modifyvm', :id, '--nicpromisc5', 'allow-vms']
        vbox.customize ['modifyvm', :id, '--nicpromisc6', 'allow-vms']
        vbox.customize ['modifyvm', :id, '--nicpromisc7', 'allow-vms']
        vbox.customize ['modifyvm', :id, '--nicpromisc8', 'allow-vms']
        vbox.customize ['modifyvm', :id, '--nicpromisc9', 'allow-vms']
      end
  end

  ##### DEFINE VM for spine01 #####
  config.vm.define "spine01" do |spine01|
      spine01.vm.provider "virtualbox" do |v|
        v.name = "spine01"
        v.memory = 200
      end
      spine01.vm.hostname = "spine01"
      spine01.vm.box = "CumulusCommunity/cumulus-vx"

          # Local_Interface: eth0 Topology_File_Line(20):   "oob":"swp1" -- "spine01":"eth0"
          spine01.vm.network "private_network", virtualbox__intnet: 'net20', auto_config: false, :mac => "A00000000007"

          # Local_Interface: swp1 Topology_File_Line(8):   "spine01":"swp1" -- "leaf01":"swp49"
          spine01.vm.network "private_network", virtualbox__intnet: 'net8', auto_config: false

          # Local_Interface: swp2 Topology_File_Line(9):   "spine01":"swp2" -- "leaf02":"swp49"
          spine01.vm.network "private_network", virtualbox__intnet: 'net9', auto_config: false

          # Local_Interface: swp3 Topology_File_Line(10):   "spine01":"swp3" -- "leaf03":"swp49"
          spine01.vm.network "private_network", virtualbox__intnet: 'net10', auto_config: false

          # Local_Interface: swp4 Topology_File_Line(11):   "spine01":"swp4" -- "leaf04":"swp49"
          spine01.vm.network "private_network", virtualbox__intnet: 'net11', auto_config: false

          # Local_Interface: swp30s0 Topology_File_Line(1):   "internet":"swp1" -- "spine01":"swp30s0"
          spine01.vm.network "private_network", virtualbox__intnet: 'net1', auto_config: false

          # Local_Interface: swp31s0 Topology_File_Line(2):   "internet":"swp2" -- "spine01":"swp31s0"
          spine01.vm.network "private_network", virtualbox__intnet: 'net2', auto_config: false

          # Local_Interface: swp31s1 Topology_File_Line(3):   "internet":"swp3" -- "spine01":"swp31s1"
          spine01.vm.network "private_network", virtualbox__intnet: 'net3', auto_config: false

          # Local_Interface: swp32s0 Topology_File_Line(4):   "internet":"swp4" -- "spine01":"swp32s0"
          spine01.vm.network "private_network", virtualbox__intnet: 'net4', auto_config: false

      # Disabling the default synced folder
      spine01.vm.synced_folder ".", "/vagrant", disabled: true

      # Run Any Extra Config
      spine01.vm.provision :shell , path: "./helper_scripts/extra_switch_config.sh"

      # Apply the interface re-map
      spine01.vm.provision "file", source: "./helper_scripts/rename_eth_swp", destination: "/home/vagrant/rename_eth_swp"
      spine01.vm.provision "file", source: "./helper_scripts/autogenerated/spine01_remap_eth", destination: "/home/vagrant/remap_eth"
      spine01.vm.provision :shell , inline: "mv /home/vagrant/rename_eth_swp /etc/init.d/rename_eth_swp"
      spine01.vm.provision :shell , inline: "mv /home/vagrant/remap_eth /etc/default/remap_eth"
      spine01.vm.provision :shell , inline: "chmod 755 /etc/init.d/rename_eth_swp"
      spine01.vm.provision :shell , inline: "/etc/init.d/rename_eth_swp verbose"
      spine01.vm.provision :shell , inline: "echo -e '\n########## Interface Status ##########' && ip link show"

      spine01.vm.provider "virtualbox" do |vbox|
        vbox.customize ['modifyvm', :id, '--nicpromisc2', 'allow-vms']
        vbox.customize ['modifyvm', :id, '--nicpromisc3', 'allow-vms']
        vbox.customize ['modifyvm', :id, '--nicpromisc4', 'allow-vms']
        vbox.customize ['modifyvm', :id, '--nicpromisc5', 'allow-vms']
        vbox.customize ['modifyvm', :id, '--nicpromisc6', 'allow-vms']
        vbox.customize ['modifyvm', :id, '--nicpromisc7', 'allow-vms']
        vbox.customize ['modifyvm', :id, '--nicpromisc8', 'allow-vms']
        vbox.customize ['modifyvm', :id, '--nicpromisc9', 'allow-vms']
        vbox.customize ['modifyvm', :id, '--nicpromisc10', 'allow-vms']
      end
  end

  ##### DEFINE VM for spine02 #####
  config.vm.define "spine02" do |spine02|
      spine02.vm.provider "virtualbox" do |v|
        v.name = "spine02"
        v.memory = 200
      end
      spine02.vm.hostname = "spine02"
      spine02.vm.box = "CumulusCommunity/cumulus-vx"

          # Local_Interface: eth0 Topology_File_Line(21):   "oob":"swp2" -- "spine02":"eth0"
          spine02.vm.network "private_network", virtualbox__intnet: 'net21', auto_config: false, :mac => "A00000000008"

          # Local_Interface: swp1 Topology_File_Line(12):   "spine02":"swp1" -- "leaf01":"swp50"
          spine02.vm.network "private_network", virtualbox__intnet: 'net12', auto_config: false

          # Local_Interface: swp2 Topology_File_Line(13):   "spine02":"swp2" -- "leaf02":"swp50"
          spine02.vm.network "private_network", virtualbox__intnet: 'net13', auto_config: false

          # Local_Interface: swp3 Topology_File_Line(14):   "spine02":"swp3" -- "leaf03":"swp50"
          spine02.vm.network "private_network", virtualbox__intnet: 'net14', auto_config: false

          # Local_Interface: swp4 Topology_File_Line(15):   "spine02":"swp4" -- "leaf04":"swp50"
          spine02.vm.network "private_network", virtualbox__intnet: 'net15', auto_config: false

          # Local_Interface: swp31s0 Topology_File_Line(6):   "internet":"swp6" -- "spine02":"swp31s0"
          spine02.vm.network "private_network", virtualbox__intnet: 'net6', auto_config: false

          # Local_Interface: swp31s1 Topology_File_Line(7):   "internet":"swp7" -- "spine02":"swp31s1"
          spine02.vm.network "private_network", virtualbox__intnet: 'net7', auto_config: false

          # Local_Interface: swp32s0 Topology_File_Line(5):   "internet":"swp5" -- "spine02":"swp32s0"
          spine02.vm.network "private_network", virtualbox__intnet: 'net5', auto_config: false

      # Disabling the default synced folder
      spine02.vm.synced_folder ".", "/vagrant", disabled: true

      # Run Any Extra Config
      spine02.vm.provision :shell , path: "./helper_scripts/extra_switch_config.sh"

      # Apply the interface re-map
      spine02.vm.provision "file", source: "./helper_scripts/rename_eth_swp", destination: "/home/vagrant/rename_eth_swp"
      spine02.vm.provision "file", source: "./helper_scripts/autogenerated/spine02_remap_eth", destination: "/home/vagrant/remap_eth"
      spine02.vm.provision :shell , inline: "mv /home/vagrant/rename_eth_swp /etc/init.d/rename_eth_swp"
      spine02.vm.provision :shell , inline: "mv /home/vagrant/remap_eth /etc/default/remap_eth"
      spine02.vm.provision :shell , inline: "chmod 755 /etc/init.d/rename_eth_swp"
      spine02.vm.provision :shell , inline: "/etc/init.d/rename_eth_swp verbose"
      spine02.vm.provision :shell , inline: "echo -e '\n########## Interface Status ##########' && ip link show"

      spine02.vm.provider "virtualbox" do |vbox|
        vbox.customize ['modifyvm', :id, '--nicpromisc2', 'allow-vms']
        vbox.customize ['modifyvm', :id, '--nicpromisc3', 'allow-vms']
        vbox.customize ['modifyvm', :id, '--nicpromisc4', 'allow-vms']
        vbox.customize ['modifyvm', :id, '--nicpromisc5', 'allow-vms']
        vbox.customize ['modifyvm', :id, '--nicpromisc6', 'allow-vms']
        vbox.customize ['modifyvm', :id, '--nicpromisc7', 'allow-vms']
        vbox.customize ['modifyvm', :id, '--nicpromisc8', 'allow-vms']
        vbox.customize ['modifyvm', :id, '--nicpromisc9', 'allow-vms']
      end
  end

  ##### DEFINE VM for leaf01 #####
  config.vm.define "leaf01" do |leaf01|
      leaf01.vm.provider "virtualbox" do |v|
        v.name = "leaf01"
        v.memory = 200
      end
      leaf01.vm.hostname = "leaf01"
      leaf01.vm.box = "CumulusCommunity/cumulus-vx"

          # Local_Interface: eth0 Topology_File_Line(22):   "oob":"swp3" -- "leaf01":"eth0"
          leaf01.vm.network "private_network", virtualbox__intnet: 'net22', auto_config: false, :mac => "A00000000009"

          # Local_Interface: swp1 Topology_File_Line(16):   "server1":"eth2" -- "leaf01":"swp1"
          leaf01.vm.network "private_network", virtualbox__intnet: 'net16', auto_config: false

          # Local_Interface: swp49 Topology_File_Line(8):   "spine01":"swp1" -- "leaf01":"swp49"
          leaf01.vm.network "private_network", virtualbox__intnet: 'net8', auto_config: false

          # Local_Interface: swp50 Topology_File_Line(12):   "spine02":"swp1" -- "leaf01":"swp50"
          leaf01.vm.network "private_network", virtualbox__intnet: 'net12', auto_config: false

      # Disabling the default synced folder
      leaf01.vm.synced_folder ".", "/vagrant", disabled: true

      # Run Any Extra Config
      leaf01.vm.provision :shell , path: "./helper_scripts/extra_switch_config.sh"

      # Apply the interface re-map
      leaf01.vm.provision "file", source: "./helper_scripts/rename_eth_swp", destination: "/home/vagrant/rename_eth_swp"
      leaf01.vm.provision "file", source: "./helper_scripts/autogenerated/leaf01_remap_eth", destination: "/home/vagrant/remap_eth"
      leaf01.vm.provision :shell , inline: "mv /home/vagrant/rename_eth_swp /etc/init.d/rename_eth_swp"
      leaf01.vm.provision :shell , inline: "mv /home/vagrant/remap_eth /etc/default/remap_eth"
      leaf01.vm.provision :shell , inline: "chmod 755 /etc/init.d/rename_eth_swp"
      leaf01.vm.provision :shell , inline: "/etc/init.d/rename_eth_swp verbose"
      leaf01.vm.provision :shell , inline: "echo -e '\n########## Interface Status ##########' && ip link show"

      leaf01.vm.provider "virtualbox" do |vbox|
        vbox.customize ['modifyvm', :id, '--nicpromisc2', 'allow-vms']
        vbox.customize ['modifyvm', :id, '--nicpromisc3', 'allow-vms']
        vbox.customize ['modifyvm', :id, '--nicpromisc4', 'allow-vms']
        vbox.customize ['modifyvm', :id, '--nicpromisc5', 'allow-vms']
      end
  end

  ##### DEFINE VM for leaf02 #####
  config.vm.define "leaf02" do |leaf02|
      leaf02.vm.provider "virtualbox" do |v|
        v.name = "leaf02"
        v.memory = 200
      end
      leaf02.vm.hostname = "leaf02"
      leaf02.vm.box = "CumulusCommunity/cumulus-vx"

          # Local_Interface: eth0 Topology_File_Line(23):   "oob":"swp4" -- "leaf02":"eth0"
          leaf02.vm.network "private_network", virtualbox__intnet: 'net23', auto_config: false, :mac => "A0000000000A"

          # Local_Interface: swp1 Topology_File_Line(17):   "server2":"eth2" -- "leaf02":"swp1"
          leaf02.vm.network "private_network", virtualbox__intnet: 'net17', auto_config: false

          # Local_Interface: swp49 Topology_File_Line(9):   "spine01":"swp2" -- "leaf02":"swp49"
          leaf02.vm.network "private_network", virtualbox__intnet: 'net9', auto_config: false

          # Local_Interface: swp50 Topology_File_Line(13):   "spine02":"swp2" -- "leaf02":"swp50"
          leaf02.vm.network "private_network", virtualbox__intnet: 'net13', auto_config: false

      # Disabling the default synced folder
      leaf02.vm.synced_folder ".", "/vagrant", disabled: true

      # Run Any Extra Config
      leaf02.vm.provision :shell , path: "./helper_scripts/extra_switch_config.sh"

      # Apply the interface re-map
      leaf02.vm.provision "file", source: "./helper_scripts/rename_eth_swp", destination: "/home/vagrant/rename_eth_swp"
      leaf02.vm.provision "file", source: "./helper_scripts/autogenerated/leaf02_remap_eth", destination: "/home/vagrant/remap_eth"
      leaf02.vm.provision :shell , inline: "mv /home/vagrant/rename_eth_swp /etc/init.d/rename_eth_swp"
      leaf02.vm.provision :shell , inline: "mv /home/vagrant/remap_eth /etc/default/remap_eth"
      leaf02.vm.provision :shell , inline: "chmod 755 /etc/init.d/rename_eth_swp"
      leaf02.vm.provision :shell , inline: "/etc/init.d/rename_eth_swp verbose"
      leaf02.vm.provision :shell , inline: "echo -e '\n########## Interface Status ##########' && ip link show"

      leaf02.vm.provider "virtualbox" do |vbox|
        vbox.customize ['modifyvm', :id, '--nicpromisc2', 'allow-vms']
        vbox.customize ['modifyvm', :id, '--nicpromisc3', 'allow-vms']
        vbox.customize ['modifyvm', :id, '--nicpromisc4', 'allow-vms']
        vbox.customize ['modifyvm', :id, '--nicpromisc5', 'allow-vms']
      end
  end

  ##### DEFINE VM for leaf03 #####
  config.vm.define "leaf03" do |leaf03|
      leaf03.vm.provider "virtualbox" do |v|
        v.name = "leaf03"
        v.memory = 200
      end
      leaf03.vm.hostname = "leaf03"
      leaf03.vm.box = "CumulusCommunity/cumulus-vx"

          # Local_Interface: eth0 Topology_File_Line(24):   "oob":"swp5" -- "leaf03":"eth0"
          leaf03.vm.network "private_network", virtualbox__intnet: 'net24', auto_config: false, :mac => "A0000000000B"

          # Local_Interface: swp1 Topology_File_Line(18):   "server3":"eth2" -- "leaf03":"swp1"
          leaf03.vm.network "private_network", virtualbox__intnet: 'net18', auto_config: false

          # Local_Interface: swp49 Topology_File_Line(10):   "spine01":"swp3" -- "leaf03":"swp49"
          leaf03.vm.network "private_network", virtualbox__intnet: 'net10', auto_config: false

          # Local_Interface: swp50 Topology_File_Line(14):   "spine02":"swp3" -- "leaf03":"swp50"
          leaf03.vm.network "private_network", virtualbox__intnet: 'net14', auto_config: false

      # Disabling the default synced folder
      leaf03.vm.synced_folder ".", "/vagrant", disabled: true

      # Run Any Extra Config
      leaf03.vm.provision :shell , path: "./helper_scripts/extra_switch_config.sh"

      # Apply the interface re-map
      leaf03.vm.provision "file", source: "./helper_scripts/rename_eth_swp", destination: "/home/vagrant/rename_eth_swp"
      leaf03.vm.provision "file", source: "./helper_scripts/autogenerated/leaf03_remap_eth", destination: "/home/vagrant/remap_eth"
      leaf03.vm.provision :shell , inline: "mv /home/vagrant/rename_eth_swp /etc/init.d/rename_eth_swp"
      leaf03.vm.provision :shell , inline: "mv /home/vagrant/remap_eth /etc/default/remap_eth"
      leaf03.vm.provision :shell , inline: "chmod 755 /etc/init.d/rename_eth_swp"
      leaf03.vm.provision :shell , inline: "/etc/init.d/rename_eth_swp verbose"
      leaf03.vm.provision :shell , inline: "echo -e '\n########## Interface Status ##########' && ip link show"

      leaf03.vm.provider "virtualbox" do |vbox|
        vbox.customize ['modifyvm', :id, '--nicpromisc2', 'allow-vms']
        vbox.customize ['modifyvm', :id, '--nicpromisc3', 'allow-vms']
        vbox.customize ['modifyvm', :id, '--nicpromisc4', 'allow-vms']
        vbox.customize ['modifyvm', :id, '--nicpromisc5', 'allow-vms']
      end
  end

  ##### DEFINE VM for leaf04 #####
  config.vm.define "leaf04" do |leaf04|
      leaf04.vm.provider "virtualbox" do |v|
        v.name = "leaf04"
        v.memory = 200
      end
      leaf04.vm.hostname = "leaf04"
      leaf04.vm.box = "CumulusCommunity/cumulus-vx"

          # Local_Interface: eth0 Topology_File_Line(25):   "oob":"swp6" -- "leaf04":"eth0"
          leaf04.vm.network "private_network", virtualbox__intnet: 'net25', auto_config: false, :mac => "A0000000000C"

          # Local_Interface: swp1 Topology_File_Line(19):   "server4":"eth2" -- "leaf04":"swp1"
          leaf04.vm.network "private_network", virtualbox__intnet: 'net19', auto_config: false

          # Local_Interface: swp49 Topology_File_Line(11):   "spine01":"swp4" -- "leaf04":"swp49"
          leaf04.vm.network "private_network", virtualbox__intnet: 'net11', auto_config: false

          # Local_Interface: swp50 Topology_File_Line(15):   "spine02":"swp4" -- "leaf04":"swp50"
          leaf04.vm.network "private_network", virtualbox__intnet: 'net15', auto_config: false

      # Disabling the default synced folder
      leaf04.vm.synced_folder ".", "/vagrant", disabled: true

      # Run Any Extra Config
      leaf04.vm.provision :shell , path: "./helper_scripts/extra_switch_config.sh"

      # Apply the interface re-map
      leaf04.vm.provision "file", source: "./helper_scripts/rename_eth_swp", destination: "/home/vagrant/rename_eth_swp"
      leaf04.vm.provision "file", source: "./helper_scripts/autogenerated/leaf04_remap_eth", destination: "/home/vagrant/remap_eth"
      leaf04.vm.provision :shell , inline: "mv /home/vagrant/rename_eth_swp /etc/init.d/rename_eth_swp"
      leaf04.vm.provision :shell , inline: "mv /home/vagrant/remap_eth /etc/default/remap_eth"
      leaf04.vm.provision :shell , inline: "chmod 755 /etc/init.d/rename_eth_swp"
      leaf04.vm.provision :shell , inline: "/etc/init.d/rename_eth_swp verbose"
      leaf04.vm.provision :shell , inline: "echo -e '\n########## Interface Status ##########' && ip link show"

      leaf04.vm.provider "virtualbox" do |vbox|
        vbox.customize ['modifyvm', :id, '--nicpromisc2', 'allow-vms']
        vbox.customize ['modifyvm', :id, '--nicpromisc3', 'allow-vms']
        vbox.customize ['modifyvm', :id, '--nicpromisc4', 'allow-vms']
        vbox.customize ['modifyvm', :id, '--nicpromisc5', 'allow-vms']
      end
  end

end
